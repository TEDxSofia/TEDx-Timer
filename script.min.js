"use strict";const delayMillisecond=1e3,displayTimeElement=document.getElementById("displayTime"),overDisplayTimeElement=document.getElementById("overDisplayTime"),screenUnder920px=window.matchMedia("(max-width: 920px)"),buttonPlayPause=document.getElementById("btnPlayPause"),sliderTimer=document.getElementById("rangeTime"),sliderFontSize=document.getElementById("rangeDisplaySize"),btnTextColor=document.getElementById("btnBgSwitch"),btnFullSize=document.getElementById("btnToggleFullScreen"),btnHelper=document.getElementsByClassName("nav-helper")[0],iconMenu=document.getElementsByClassName("nav-toggle")[0],navMenu=document.getElementsByClassName("nav")[0],iconBox=document.querySelector("#btnPlayPause > i"),actionBox=document.getElementsByClassName("btn-play-pause-style")[0],iconTimeDisplay=document.querySelector("#nav > div:nth-child(1) > div > div > div.icon-settings"),iconFontSizeDisplay=document.querySelector("#nav > div:nth-child(2) > div > div > div.icon-settings");let stopWatch,startPause=!0,setTime=18,timeCount=0,changeSetupTime=!0,overTimeCounterValue=1,countOverTime=0,minutes=0,seconds=0,displayMin=0,displaySec=0,setTimePadStart="",bgColor=document.body,currentFontSize=26,valueFontSize=0,currentSliderFontSize=26,percentOfFontSize=0,secondTimeSizeDisplay=0;function btnBoxPlayPause(){"btn-play-pause-style"===actionBox.className?(actionBox.className="btn-play-pause-style hover-opacity",iconBox.className="fas fa-pause fa-2x",navMenu.className="nav",iconMenu.className="nav-toggle hover-opacity"):"btn-play-pause-style hover-opacity"===actionBox.className&&"nav"===navMenu.className?(actionBox.className="btn-play-pause-style",iconBox.className="fas fa-play fa-2x",iconMenu.className="nav-toggle",navMenu.className="nav"):"btn-play-pause-style hover-opacity expanded"===actionBox.className&&(actionBox.className="btn-play-pause-style",iconBox.className="fas fa-play fa-2x",iconMenu.className="nav-toggle expanded",navMenu.className="nav expanded")}function btnPlayPauseResetStyle(){"btn-play-pause-style hover-opacity"===actionBox.className&&"nav-toggle hover-opacity"===iconMenu.className?(actionBox.className="btn-play-pause-style",iconBox.className="fas fa-play fa-2x",iconMenu.className="nav-toggle",navMenu.className="nav"):"btn-play-pause-style hover-opacity"===actionBox.className&&"nav-toggle hover-opacity expanded"===iconMenu.className&&(actionBox.className="btn-play-pause-style",iconBox.className="fas fa-play fa-2x",iconMenu.className="nav-toggle expanded",navMenu.className="nav expanded")}function setNewTime(){setTimeDisplay(),overTimeReset(),clearInterval(stopWatch),startPause=!0,displayTimeElement.textContent="18:00",overTimeCounterValue=1,setTime=Number(18),timeCount=60*setTime-1,rangeTime.value=18,!0===screenUnder920px.matches&&(iconTimeDisplay.innerHTML="<p>18 min</p>"),btnPlayPauseResetStyle()}function startPauseEvent(e){e.preventDefault(),btnBoxPlayPause(),changeSetupTime&&setTimeParam(),"nav-helper expanded"===btnHelper.className&&btnNavHelper(),1==startPause?(stopWatch=setInterval(countDown,delayMillisecond),startPause=!1):(clearInterval(stopWatch),startPause=!0,overDisplayTimeElement.textContent="00:00",overDisplayTimeElement.style.display="none",overTimeCounterValue=1,"00:00"===displayTimeElement.textContent?setNewTime():btnPlayPauseResetStyle()),changeSetupTime=!1}function countDown(){timeCount>=0?(minutes=Math.floor(timeCount/60),seconds=Math.floor(timeCount%60),displayMin=String(minutes).padStart(2,0),displaySec=String(seconds).padStart(2,0),displayTimeElement.textContent=`${displayMin}:${displaySec}`,timeCount--):(countOverTime++,overDisplayTimeElement.style.display="block",overTimeCounter())}function overTimeReset(){overDisplayTimeElement.textContent="00:00",overDisplayTimeElement.style.display="none"}function overTimeCounter(){minutes=Math.floor(overTimeCounterValue/60),seconds=Math.floor(overTimeCounterValue%60),displayMin=String(minutes).padStart(2,0),displaySec=String(seconds).padStart(2,0),overDisplayTimeElement.textContent=`${displayMin}:${displaySec}`,overTimeCounterValue++}function secondDisplayOverTime(){(secondTimeSizeDisplay=Math.round(sliderFontSize.value/2*.77))>=8&&(overDisplayTimeElement.style.fontSize=`${secondTimeSizeDisplay}vw`)}function setTimeParam(){setTime=Number(displayTimeElement.textContent.split(":")[0]),timeCount=60*setTime-1}function setTimeDisplay(){return setTime>=1&&setTime<=9?(setTimePadStart=(setTimePadStart=String(setTime)).padStart(2,"0"),displayTimeElement.textContent=`${setTimePadStart}:00`):displayTimeElement.textContent=`${setTime}:00`}function upTimer(){btnPlayPauseResetStyle(),!0===screenUnder920px.matches&&(rangeTime.value++,iconTimeDisplay.innerHTML=`<p>${rangeTime.value} min</p>`),"00:00"===displayTimeElement.textContent&&overTimeReset(),setTime<60&&(setTime++,setTimeDisplay()),0==startPause&&(clearInterval(stopWatch),startPause=!0),rangeTime.value=setTime,changeSetupTime=!0}function downTime(){btnPlayPauseResetStyle(),!0===screenUnder920px.matches&&(rangeTime.value--,iconTimeDisplay.innerHTML=`<p>${rangeTime.value} min</p>`),"00:00"===displayTimeElement.textContent&&overTimeReset(),setTime>1&&(setTime--,setTimeDisplay()),0==startPause&&(clearInterval(stopWatch),startPause=!0),rangeTime.value=setTime,changeSetupTime=!0}function fontSizeUp(){(valueFontSize=parseInt(currentFontSize))<39&&(currentFontSize=displayTimeElement.style.fontSize=valueFontSize+1+"vw",rangeDisplaySize.value=parseInt(currentFontSize)),!0===screenUnder920px.matches&&(percentOfFontSize=parseInt((rangeDisplaySize.value-14)/25*100),iconFontSizeDisplay.innerHTML=`<p>${percentOfFontSize}%</p>`),secondDisplayOverTime()}function fontSizeDown(){(valueFontSize=parseInt(currentFontSize))>14&&(currentFontSize=displayTimeElement.style.fontSize=valueFontSize-1+"vw",rangeDisplaySize.value=parseInt(currentFontSize)),!0===screenUnder920px.matches&&(percentOfFontSize=parseInt((rangeDisplaySize.value-14)/25*100),iconFontSizeDisplay.innerHTML=`<p>${percentOfFontSize}%</p>`),secondDisplayOverTime()}function backgroundColorSwitch(){bgColor.classList.toggle("bg-black"),displayTimeElement.classList.toggle("text-shadow-color"),"Black"===btnTextColor.textContent?btnTextColor.textContent="Red":btnTextColor.textContent="Black"}function toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),btnFullSize.textContent="On"):(document.documentElement.requestFullscreen(),btnFullSize.textContent="Off")}function btnNavHelper(){btnHelper.classList.toggle("expanded")}function screenIconMenu(){!0===screenUnder920px.matches?(setTime=Number(displayTimeElement.textContent.split(":")[0]),iconTimeDisplay.innerHTML=`<p>${setTime} min</p>`,percentOfFontSize=parseInt((sliderFontSize.value-14)/25*100),iconFontSizeDisplay.innerHTML=`<p>${percentOfFontSize}%</p>`):(iconTimeDisplay.innerHTML='<i class="fas fa-stopwatch fa-2x"></i>',iconFontSizeDisplay.innerHTML='<i class="fas fa-text-height fa-2x"></i>')}window.onload=screenIconMenu,screenUnder920px.onchange=screenIconMenu,document.addEventListener("keydown",e=>"Space"===e.code?startPauseEvent(e):"ArrowUp"===e.code?upTimer():"ArrowDown"===e.code?downTime():"ArrowRight"===e.code?fontSizeUp():"ArrowLeft"===e.code?fontSizeDown():"KeyB"===e.code?backgroundColorSwitch():"KeyF"===e.code?toggleFullScreen():"KeyR"===e.code?setNewTime():"KeyH"===e.code?btnNavHelper():void 0,!1),buttonPlayPause.onclick=(e=>startPauseEvent(e)),sliderTimer.oninput=function(){setTime=Number(sliderTimer.value),clearInterval(stopWatch),startPause=!0,changeSetupTime=!0,"00:00"===displayTimeElement.textContent&&overTimeReset(),!0===screenUnder920px.matches&&(iconTimeDisplay.innerHTML=`<p>${setTime} min</p>`),setTimeDisplay(),btnPlayPauseResetStyle()},sliderFontSize.oninput=function(){(currentSliderFontSize=sliderFontSize.value)>currentFontSize?fontSizeUp():fontSizeDown(),!0===screenUnder920px.matches&&(percentOfFontSize=parseInt((sliderFontSize.value-14)/25*100),iconFontSizeDisplay.innerHTML=`<p>${percentOfFontSize}%</p>`),secondDisplayOverTime()},{nav:document.querySelector("#nav"),navToggle:document.querySelector(".nav-toggle"),initialize(){this.navToggle.addEventListener("click",()=>{this.toggle()})},toggle(){this.navToggle.classList.toggle("expanded"),this.nav.classList.toggle("expanded")}}.initialize();